<?php $__env->startSection('stylesheet'); ?>
<?php $__env->stopSection(); ?>


<?php $__env->startSection('content'); ?>
	<!--<div class="row">
		<div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
		</div>
		<div class="col-xs-12 col-sm-5 col-md-5 col-lg-8">
			<ul id="sparks" class="">
				<li class="sparks-info">
					<h5> Data 01 <span class="txt-color-blue">1234</span></h5>
					<div class="sparkline txt-color-blue hidden-mobile hidden-md hidden-sm">
						1300, 1877, 2500, 2577, 2000, 2100, 3000, 2700, 3631, 2471, 2700, 3631, 2471
					</div>
				</li>
				<li class="sparks-info">
					<h5> Data 02 <span class="txt-color-purple"><i class="fa fa-arrow-circle-up"></i>&nbsp;45%</span></h5>
				
				</li>
				<li class="sparks-info">
					<h5> Data 03 <span class="txt-color-greenDark"><i class="fa fa-shopping-cart"></i>&nbsp;2447</span></h5>
				</li>
			</ul>
		</div>
	</div>-->
	<!-- widget grid -->
	<section id="widget-grid" class="">

		<!-- row -->
		<div class="row">
		
		<!--<article class="col-sm-12">
				<div class="jarviswidget" id="wid-id-0" data-widget-togglebutton="false" data-widget-editbutton="false" data-widget-fullscreenbutton="false" data-widget-colorbutton="false" data-widget-deletebutton="false">
				
					<header>
						<span class="widget-icon"> <i class="glyphicon glyphicon-stats txt-color-darken"></i> </span>
						<h2>Graph Sample 123</h2>

						<ul class="nav nav-tabs pull-right in" id="myTab">
						</ul>

					</header>
					<div class="no-padding">
						<div class="jarviswidget-editbox">

							test
						</div>
						<div class="widget-body">
							<div id="myTabContent" class="tab-content">
								<div class="tab-pane fade active in padding-10 no-padding-bottom" id="s1">
									<div class="widget-body-toolbar bg-color-white smart-form" id="rev-toggles">

										<div class="inline-group">

											<label for="gra-0" class="checkbox">
												<input type="checkbox" name="gra-0" id="gra-0" checked="checked">
												<i></i> ATM </label>
											<label for="gra-1" class="checkbox">
												<input type="checkbox" name="gra-1" id="gra-1" checked="checked">
												<i></i> Ticket Open </label>
											<label for="gra-2" class="checkbox">
												<input type="checkbox" name="gra-2" id="gra-2" checked="checked">
												<i></i> Ticket Close </label>
										</div>

										<div class="btn-group hidden-phone pull-right hidden-xs">
											<a class="btn dropdown-toggle btn-xs btn-default" data-toggle="dropdown"><i class="fa fa-cog"></i> More <span class="caret"> </span> </a>
											<ul class="dropdown-menu pull-right">
												<li>
													<a href="javascript:void(0);"><i class="fa fa-file-text-alt"></i> Export to PDF</a>
												</li>
												<li>
													<a href="javascript:void(0);"><i class="fa fa-question-sign"></i> Help</a>
												</li>
											</ul>
										</div>

									</div>

									<div class="padding-10">
										<div id="flotcontainer" class="chart-large has-legend-unique"></div>
									</div>
								</div>
								<div class="tab-pane fade" id="s2">
									<div class="widget-body-toolbar bg-color-white">

										<form class="form-inline" role="form">

											<div class="form-group">
												<label class="sr-only" for="s123">Show From</label>
												<input type="email" class="form-control input-sm" id="s123" placeholder="Show From">
											</div>
											<div class="form-group">
												<input type="email" class="form-control input-sm" id="s124" placeholder="To">
											</div>

											<div class="btn-group hidden-phone pull-right hidden-xs">
												<a class="btn dropdown-toggle btn-xs btn-default" data-toggle="dropdown"><i class="fa fa-cog"></i> More <span class="caret"> </span> </a>
												<ul class="dropdown-menu pull-right">
													<li>
														<a href="javascript:void(0);"><i class="fa fa-file-text-alt"></i> Export to PDF</a>
													</li>
													<li>
														<a href="javascript:void(0);"><i class="fa fa-question-sign"></i> Help</a>
													</li>
												</ul>
											</div>

										</form>

									</div>
									<div class="padding-10">
										<div id="statsChart" class="chart-large has-legend-unique"></div>
									</div>

								</div>
								<div class="tab-pane fade" id="s3">

									<div class="widget-body-toolbar bg-color-white smart-form" id="rev-toggles">

										<div class="inline-group">

											<label for="gra-0" class="checkbox">
												<input type="checkbox" name="gra-0" id="gra-0" checked="checked">
												<i></i> Target </label>
											<label for="gra-1" class="checkbox">
												<input type="checkbox" name="gra-1" id="gra-1" checked="checked">
												<i></i> Actual </label>
											<label for="gra-2" class="checkbox">
												<input type="checkbox" name="gra-2" id="gra-2" checked="checked">
												<i></i> Signups </label>
										</div>

										<div class="btn-group hidden-phone pull-right hidden-xs">
											<a class="btn dropdown-toggle btn-xs btn-default" data-toggle="dropdown"><i class="fa fa-cog"></i> More <span class="caret"> </span> </a>
											<ul class="dropdown-menu pull-right">
												<li>
													<a href="javascript:void(0);"><i class="fa fa-file-text-alt"></i> Export to PDF</a>
												</li>
												<li>
													<a href="javascript:void(0);"><i class="fa fa-question-sign"></i> Help</a>
												</li>
											</ul>
										</div>

									</div>

									<div class="padding-10">
										<div id="flotcontainer" class="chart-large has-legend-unique"></div>
									</div>
								</div>
							</div>
						</div>

					</div>
				</div>

			</article>-->
		</div>
		<!--<div class="row">
			<article class="col-sm-12" style="margin: -25px 0px 0px 0px;">
				<div id="cc" class="easyui-layout" style="width:100%;height:300px;">
					<div data-options="region:'east',split:true,hideCollapsedContent:false" title="East" style="width:400px;">
						<ul id="legend" style="float: left"></ul>
						<div id="donut-graph" style="position: absolute; left: -60" class="chart no-padding"></div>
					</div>
					<div data-options="region:'west',split:true,collapsed:true,
							hideExpandTool: true,
							expandMode: null,
							hideCollapsedContent: false,
							collapsedSize: 68,
							collapsedContent: function(){
								return $('#titlebar');
							}" title="West" style="width:100px;">
					</div>
					<?php 
						if(!isset($table_view) || $table_view=='atm') {
							$title = "Summary ATM";
						} else if(!isset($table_view) || $table_view=='ticket') {
							$title = "Summary Ticket Problem";
						} else if(!isset($table_view) || $table_view=='attend') {
							$title = "Summary Attendance";
						} else if(!isset($table_view) || $table_view=='part') {
							$title = "Summary Request Sparepart";
						}
					?>
					<div data-options="region:'center',title:'<?=$title?>'">
						<?php if(!isset($table_view) || $table_view=='atm') { ?>
							<?php echo $__env->make('pages.dashboard.table_atm', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?>
						<?php } else if(!isset($table_view) || $table_view=='ticket') { ?>
							<?php echo $__env->make('pages.dashboard.table_ticket', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?>
						<?php } else if(!isset($table_view) || $table_view=='attend') { ?>
							<?php echo $__env->make('pages.dashboard.table_attend', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?>
						<?php } else if(!isset($table_view) || $table_view=='part') { ?>
							<?php echo $__env->make('pages.dashboard.table_part', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?>
						<?php } ?>
					</div>
				</div>
				<div id="titlebar" style="padding:2px">
					<a href="<?=base_url()?>?view=atm" class="easyui-linkbutton" style="width:100%" data-options="iconCls:'icon-large-picture',size:'large',iconAlign:'top'">ATM</a>
					<a href="<?=base_url()?>?view=ticket" class="easyui-linkbutton" style="width:100%" data-options="iconCls:'icon-large-shapes',size:'large',iconAlign:'top'">TICKET</a>
					<a href="<?=base_url()?>?view=attend" class="easyui-linkbutton" style="width:100%" data-options="iconCls:'icon-large-smartart',size:'large',iconAlign:'top'">ATTEND</a>
					<a href="<?=base_url()?>?view=part" class="easyui-linkbutton" style="width:100%" data-options="iconCls:'icon-large-chart',size:'large',iconAlign:'top'">PART</a>
				</div>
			</article>
		</div>-->
		
	
		<div class="row">
		
		<article class="col-sm-12 col-md-12 col-lg-12" style="margin: 0px 0px -50px 0px;">
		<div class="jarviswidget jarviswidget-color-purple" id="wid-id-0" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-sortable="false" 
		data-widget-colorbutton="false" data-widget-deletebutton="false" data-widget-fullscreenbutton="false">
		<header style="background: linear-gradient(to bottom, #00c6ff, #0072ff);">
			<h2 style="color:white;font-size:14px; font-weight: bold;">Dashboard System</h2>
		</header>
		<div class=" no-padding">
			<div class="row">
				<div class="col-sm-12">
				
				<div class="well well-sm">
					<div class="row">
						<article class="col-sm-12 col-md-12 col-lg-12" style="margin: 0px 0px -30px 0px;">
							<div class="jarviswidget jarviswidget-color-blueLight" id="wid-id-10" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-deletebutton="false" data-widget-fullscreenbutton="false" data-widget-custombutton="false" data-widget-sortable="false">
								<div style="background: linear-gradient(to bottom, #8e9eab, #eef2f3);height:205px;">
									<div class="widget-body no-padding">
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: 10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to bottom, #000046, #1cb5e0);color;white; height:55px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: 0px 5px 0px -5px;" src="<?=base_url()?>assets/img/timecal.png" height="35" width="35" />
													<span class="menu-item-parent">
													<small style="color:white;font-size:14px; font-weight: bold;">Time & Date</small><br>
													<p class="small" style="margin: -8px 0px 0px 0px;">
														
														<small style="color:white;font-size:24px; font-weight: bold;">
														<b id="Date" style="color:white;font-size:14px; margin: 0px 0px 0px 0px;">
														01 January 2021
														</b>
														<b id="hours" style="color:white;font-size:14px;">00</b>
														<b id="point" style="color:white;font-size:14px;">:</b>
														<b id="min" style="color:white;font-size:14px;">00</b>
														<b id="point" style="color:white;font-size:14px;">:</b>
														<b id="sec" style="color:white;font-size:14px;">00</b>
														
														</small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: 10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to top, #44a08d, #093637);color;white; height:55px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: 0px 5px 0px -5px;" src="<?=base_url()?>assets/img/atm2.png" height="35" width="35" />
													<span class="menu-item-parent">
													<p class="small" style="">
														<small style="color:white;font-size:14px; font-weight: bold; margin: 0px 0px 0px 0px;">Total Mesin ATM</small><br>
														<small style="color:white;font-size:24px; font-weight: bold;"><?=$data_summary['total_atm']?></small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: 10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to bottom, #c21500, #ffc500);color;white; height:55px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: 0px 5px 0px -5px;" src="<?=base_url()?>assets/img/userpro.png" height="35" width="35" />
													<span class="menu-item-parent">
													<p class="small" style="">
														<small style="color:white;font-size:14px; font-weight: bold; margin: 0px 0px 0px 0px;">Total CSE Maintenance</small><br>
														<small style="color:white;font-size:24px; font-weight: bold;"><?=$data_summary['total_cse']?></small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: 10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to top, #4b6cb7, #182848);color;white; height:55px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: 0px 5px 0px -5px;" src="<?=base_url()?>assets/img/building2.png" height="35" width="35" />
													<span class="menu-item-parent">
													<p class="small" style="">
														<small style="color:white;font-size:14px; font-weight: bold; margin: 0px 0px 0px 0px;">Total Clients/Bank</small><br>
														<small style="color:white;font-size:24px; font-weight: bold;"><?=$data_summary['total_client']?></small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: -10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to top, #a73737, #7a2828);color;white; height:55px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: 0px 5px 0px -5px;" src="<?=base_url()?>assets/img/new-ticket.png" height="35" width="35" />
													<span class="menu-item-parent">
													<p class="small" style="">
														<small style="color:white;font-size:14px; font-weight: bold; margin: 0px 0px 0px 0px;">Total Tickets Overall</small><br>
														<small style="color:white;font-size:24px; font-weight: bold;"><?=$data_summary['total_ticket']?></small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: -10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to top, #add100, #7b920a);color;white; height:55px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: 0px 5px 0px -5px;" src="<?=base_url()?>assets/img/proman2.png" height="35" width="35" />
													<span class="menu-item-parent">
													<p class="small" style="">
														<small style="color:white;font-size:14px; font-weight: bold; margin: 0px 0px 0px 0px;">All Ticket Closed</small><br>
														<small style="color:white;font-size:24px; font-weight: bold;"><?=$data_summary['total_ticket_done']?></small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: -10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to bottom, #e52d27, #b31217);color;white; height:55px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: 0px 5px 0px -5px;" src="<?=base_url()?>assets/img/blackbook.png" height="35" width="35" />
													<span class="menu-item-parent">
													<p class="small" style="">
														<small style="color:white;font-size:14px; font-weight: bold; margin: 0px 0px 0px 0px;">All Ticket Open</small><br>
														<small style="color:white;font-size:24px; font-weight: bold;"><?=$data_summary['total_ticket_open']?></small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: -10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to bottom, #e52d27, #b31217);color;white; height:55px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: 0px 5px 0px -5px;" src="<?=base_url()?>assets/img/blackbook.png" height="35" width="35" />
													<span class="menu-item-parent">
													<p class="small" style="">
														<small style="color:white;font-size:14px; font-weight: bold; margin: 0px 0px 0px 0px;">All Ticket Pending</small><br>
														<small style="color:white;font-size:24px; font-weight: bold;"><?=$data_summary['total_ticket_pending']?></small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: -10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to bottom, #9d50bb, #6e48aa);color;white; height:55px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: 0px 5px 0px -5px;" src="<?=base_url()?>assets/img/turntik.png" height="38" width="38" />
													<span class="menu-item-parent">
													<p class="small" style="">
														<small style="color:white;font-size:14px; font-weight: bold; margin: 0px 0px 0px 0px;">Total Tickets Today</small><br>
														<small style="color:white;font-size:24px; font-weight: bold;"><?=$data_summary['total_today_ticket']?></small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: -10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to top, #d31027, #ea384d);color;white; height:55px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: 0px 5px 0px -5px;" src="<?=base_url()?>assets/img/tikopen.png" height="35" width="35" />
													<span class="menu-item-parent">
													<p class="small" style="">
														<small style="color:white;font-size:14px; font-weight: bold; margin: 0px 0px 0px 0px;">Tickets Open Today</small><br>
														<small style="color:white;font-size:24px; font-weight: bold;"><?=$data_summary['total_today_ticket_open']?></small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: -10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to bottom, #1d976c, #3bff84);color;white; height:55px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: 0px 5px 0px -5px;" src="<?=base_url()?>assets/img/proman2.png" height="35" width="35" />
													<span class="menu-item-parent">
													<p class="small" style="">
														<small style="color:white;font-size:14px; font-weight: bold; margin: 0px 0px 0px 0px;">Tickets Done Today</small><br>
														<small style="color:white;font-size:24px; font-weight: bold;"><?=$data_summary['total_today_ticket_done']?></small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: -10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to top, #d31027, #ea384d);color;white; height:55px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: 0px 5px 0px -5px;" src="<?=base_url()?>assets/img/tikpending.png" height="35" width="35" />
													<span class="menu-item-parent">
													<p class="small" style="">
														<small style="color:white;font-size:14px; font-weight: bold; margin: 0px 0px 0px 0px;">Tickets Pending Today</small><br>
														<small style="color:white;font-size:24px; font-weight: bold;"><?=$data_summary['total_today_ticket_pending']?></small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</article>	
						<article class="col-sm-12 col-md-12 col-lg-12" style="margin: 0px 0px -65px 0px;">
							<div class="jarviswidget jarviswidget-color-blueLight" id="wid-id-10" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-deletebutton="false" data-widget-fullscreenbutton="false" data-widget-custombutton="false" data-widget-sortable="false">
								<div>
									<div class="widget-body no-padding">
										<style>
										#chartdiv {
										  width: 100%;
										  height: 400px;
										}
										</style>

										<!-- Resources -->
										<script src="<?=BASE_URL?>v153/core.js"></script>
										<script src="<?=BASE_URL?>v153/charts.js"></script>
										<script src="<?=BASE_URL?>v153/animated.js"></script>

										<!-- Chart code -->
										<script>
										am4core.ready(function() {

											// Themes begin
											am4core.useTheme(am4themes_animated);
											// Themes end

											// Create chart instance
											var chart = am4core.create("chartdiv", am4charts.XYChart);

											// Add data
											
											$.get("<?=base_url()?>dashboard/interval_ticket", function(data) {
												chart.data = JSON.parse(data);
												
												// Create axes
												var dateAxis = chart.xAxes.push(new am4charts.DateAxis());
												//dateAxis.renderer.grid.template.location = 0;
												//dateAxis.renderer.minGridDistance = 30;

												var valueAxis1 = chart.yAxes.push(new am4charts.ValueAxis());
												valueAxis1.title.text = "Interval Tickets";

												var valueAxis2 = chart.yAxes.push(new am4charts.ValueAxis());
												valueAxis2.title.text = "Total Tickets";
												valueAxis2.renderer.opposite = true;
												valueAxis2.renderer.grid.template.disabled = true;

												// Create series
												var series1 = chart.series.push(new am4charts.ColumnSeries());
												series1.dataFields.valueY = "totticket";
												series1.dataFields.dateX = "date";
												series1.yAxis = valueAxis1;
												series1.name = "Total Tickets";
												series1.tooltipText = "{name}\n[bold font-size: 20]{valueY}[/]";
												series1.fill = chart.colors.getIndex(0);
												series1.strokeWidth = 0;
												series1.clustered = false;
												series1.columns.template.width = am4core.percent(45);

												var series2 = chart.series.push(new am4charts.ColumnSeries());
												series2.dataFields.valueY = "ttoday";
												series2.dataFields.dateX = "date";
												series2.yAxis = valueAxis1;
												series2.name = "Tickets Today";
												series2.tooltipText = "{name}\n[bold font-size: 20]{valueY}[/]";
												series2.fill = chart.colors.getIndex(0).lighten(0.5);
												series2.strokeWidth = 0;
												series2.clustered = false;
												series2.toBack();

												var series3 = chart.series.push(new am4charts.LineSeries());
												series3.dataFields.valueY = "tdone";
												series3.dataFields.dateX = "date";
												series3.name = "Tickets Done";
												series3.strokeWidth = 2;
												series3.tensionX = 0.7;
												series3.yAxis = valueAxis2;
												series3.tooltipText = "{name}\n[bold font-size: 20]{valueY}[/]";

												var bullet3 = series3.bullets.push(new am4charts.CircleBullet());
												bullet3.circle.radius = 3;
												bullet3.circle.strokeWidth = 2;
												bullet3.circle.fill = am4core.color("#fff");

												var series4 = chart.series.push(new am4charts.LineSeries());
												series4.dataFields.valueY = "tpending";
												series4.dataFields.dateX = "date";
												series4.name = "Tickets Pending";
												series4.strokeWidth = 2;
												series4.tensionX = 0.7;
												series4.yAxis = valueAxis2;
												series4.tooltipText = "{name}\n[bold font-size: 20]{valueY}[/]";
												series4.stroke = chart.colors.getIndex(0).lighten(0.5);
												series4.strokeDasharray = "3,3";

												var bullet4 = series4.bullets.push(new am4charts.CircleBullet());
												bullet4.circle.radius = 3;
												bullet4.circle.strokeWidth = 2;
												bullet4.circle.fill = am4core.color("#fff");

												// Add cursor
												chart.cursor = new am4charts.XYCursor();

												// Add legend
												chart.legend = new am4charts.Legend();
												chart.legend.position = "top";

												// Add scrollbar
												chart.scrollbarX = new am4charts.XYChartScrollbar();
												chart.scrollbarX.series.push(series1);
												chart.scrollbarX.series.push(series3);
												chart.scrollbarX.parent = chart.bottomAxesContainer;
											});
											

											

										}); // end am4core.ready()
										</script>

										<div id="chartdiv" style="margin: 0px 0px 0px 0px;"></div>		
									</div>	
								</div>
							</div>
					
						</article>	
						<article class="col-sm-12 col-md-12 col-lg-12" style="margin: 10px 0px 0px 0px;">
							<div class="jarviswidget jarviswidget-color-blueLight" id="wid-id-10" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-deletebutton="false" data-widget-fullscreenbutton="false" data-widget-custombutton="false" data-widget-sortable="false">
								<header style="background: linear-gradient(to bottom, #8e9eab, #eef2f3);color:black;height:30px;">
									<h2 style="font-size:12px; font-weight: bold;"><p class="small" style="margin: 8px 0px 0px 0px;">
											<small style="color:black;font-size:12px;  font-weight: bold;">Count Percentage Round</small></p>
									</h2>
								</header>
								<div>
									<div class="widget-body no-padding">
									<link rel="stylesheet" href="<?=BASE_URL?>v153/radial/style.css">
										<div class="med">
										 <div class="js pie pie--value pie--disc"></div>
										 <div class="js pie pie--value pie--disc"></div>
										 <div class="js pie pie--value pie--disc"></div>
										 <div class="js pie pie--value pie--disc"></div>
										 <div class="js pie pie--value pie--disc"></div>
										</div>
										<script  src="<?=BASE_URL?>v153/radial/script.js"></script>	
									<link rel="stylesheet" href="<?=BASE_URL?>v153/radial2/style.css">
									</div>
								</div>
							</div>
														
						</article>

						<article class="col-sm-12 col-md-12 col-lg-12" style="margin: -40px 0px 0px 0px;">
							<div class="jarviswidget jarviswidget-color-blueLight" id="wid-id-10" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-deletebutton="false" data-widget-fullscreenbutton="false" data-widget-custombutton="false" data-widget-sortable="false">
								<div style="background: linear-gradient(to bottom, #8e9eab, #eef2f3);height:90px;">
									<div class="widget-body no-padding">
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: 10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to bottom, #00c6ff, #0072ff);border-radius: 0px 0px 0px 0px;color;white; height:30px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: -4px 5px 0px -5px;" src="<?=base_url()?>assets/img/folset.png" height="18" width="18" />
													<span class="menu-item-parent">
													<p class="small" style="margin: -4px 0px 0px 0px;">
														<small style="color:white;font-size:16px; font-weight: bold; margin: 0px 0px 0px 0px;">All Inventory Stock : 0</small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: 10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to bottom, #00c6ff, #0072ff);border-radius: 0px 0px 0px 0px;color;white; height:30px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: -4px 5px 0px -5px;" src="<?=base_url()?>assets/img/folset.png" height="18" width="18" />
													<span class="menu-item-parent">
													<p class="small" style="margin: -4px 0px 0px 0px;">
														<small style="color:white;font-size:16px; font-weight: bold; margin: 0px 0px 0px 0px;">Transaction In : 0</small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: 10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to bottom, #00c6ff, #0072ff);border-radius: 0px 0px 0px 0px;color;white; height:30px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: -4px 5px 0px -5px;" src="<?=base_url()?>assets/img/folset.png" height="18" width="18" />
													<span class="menu-item-parent">
													<p class="small" style="margin: -4px 0px 0px 0px;">
														<small style="color:white;font-size:16px; font-weight: bold; margin: 0px 0px 0px 0px;">Transaction Out : 0</small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: 10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to bottom, #00c6ff, #0072ff);border-radius: 0px 0px 0px 0px;color;white; height:30px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: -4px 5px 0px -5px;" src="<?=base_url()?>assets/img/folset.png" height="18" width="18" />
													<span class="menu-item-parent">
													<p class="small" style="margin: -4px 0px 0px 0px;">
														<small style="color:white;font-size:16px; font-weight: bold; margin: 0px 0px 0px 0px;">Incoming Request : 0</small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: -10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to bottom, #00c6ff, #0072ff);border-radius: 0px 0px 0px 0px;color;white; height:30px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: -4px 5px 0px -5px;" src="<?=base_url()?>assets/img/folset.png" height="18" width="18" />
													<span class="menu-item-parent">
													<p class="small" style="margin: -4px 0px 0px 0px;">
														<small style="color:white;font-size:16px; font-weight: bold; margin: 0px 0px 0px 0px;">Service Point Stock : 0</small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: -10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to bottom, #00c6ff, #0072ff);border-radius: 0px 0px 0px 0px;color;white; height:30px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: -4px 5px 0px -5px;" src="<?=base_url()?>assets/img/folset.png" height="18" width="18" />
													<span class="menu-item-parent">
													<p class="small" style="margin: -4px 0px 0px 0px;">
														<small style="color:white;font-size:16px; font-weight: bold; margin: 0px 0px 0px 0px;">Arrived Sparepart : 0</small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: -10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to bottom, #00c6ff, #0072ff);border-radius: 0px 0px 0px 0px;color;white; height:30px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: -4px 5px 0px -5px;" src="<?=base_url()?>assets/img/folset.png" height="18" width="18" />
													<span class="menu-item-parent">
													<p class="small" style="margin: -4px 0px 0px 0px;">
														<small style="color:white;font-size:16px; font-weight: bold; margin: 0px 0px 0px 0px;">Replacement : 0</small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
										<div class="col-xs-12 col-sm-4 col-md-3" style="margin: -10px 0px 0px 0px;">
											<div class="panel zoomsmall" style="background: linear-gradient(to bottom, #00c6ff, #0072ff);border-radius: 0px 0px 0px 0px;color;white; height:30px;">
												<div class="panel-heading">
													<a href="#" class="">
													<img style="float: left; margin: -4px 5px 0px -5px;" src="<?=base_url()?>assets/img/folset.png" height="18" width="18" />
													<span class="menu-item-parent">
													<p class="small" style="margin: -4px 0px 0px 0px;">
														<small style="color:white;font-size:16px; font-weight: bold; margin: 0px 0px 0px 0px;">Request Sparepart : 0</small>
													</p>
													</span>
													</a>
												</div>
											</div>
										</div>
																		
									</div>
								</div>
							</div>
						</article>	
						
						<div class="col-sm-12 col-md-12 col-lg-8" style="margin: -20px 0px 0px 0px;">
							<div class="well well-light well-sm no-margin no-padding">
								<div class="row">
									<article class="col-sm-12 col-md-12 col-lg-12" style="margin: 0px 0px -30px 0px;">
										<div class="jarviswidget jarviswidget-color-blueLight" id="wid-id-10" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-deletebutton="false" data-widget-fullscreenbutton="false" data-widget-custombutton="false" data-widget-sortable="false">
											<header style="background-image: linear-gradient( 171.8deg,  rgba(5,111,146,1) 13.5%, rgba(6,57,84,1) 78.6% );color:white;">
												<span class="widget-icon"> <img style="float: left; margin: 7px 5px 0px 8px;" src="<?=base_url()?>assets/img/cal.png" height="18" width="18" /> </span>
												<h2 style="color:white;font-size:14px; font-weight: bold;">List Overall Managed
												</h2>
											</header>
											<div>
												<div class="widget-body no-padding">
												<table class="table table-bordered table-condensed">
													<thead>
														<tr>
															<th style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;">BANK</th>
															<th style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;">REGIONAL</th>
															<th style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;">DIEBOLD</th>
															<th style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;">NCR</th>
															<th style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;">CRM</th>
															<th style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;">YIHUA</th>
															<th style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;">TOTAL</th>
															<th style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;">CSE</th>
														</tr>
													</thead>
													<tbody>
														<?php 
															foreach($data_atm as $r) { ?>
																<tr>
																	<th style="background-image: linear-gradient(120deg, #fdfbfb 0%, #ebedee 100%);font-size:12px">
																	<?=$r['bank']?>
																	</th>
																	<td style="background: #ffffff"><span id=""><?=$r['regional']?></span></td>
																	<td style="background: #ffffff"><span id=""><?=$r['diebold']?></span></td>
																	<td style="background: #ffffff"><span id=""><?=$r['ncr']?></span></td>
																	<td style="background: #ffffff"><span id=""><?=$r['crm']?></span></td>
																	<td style="background: #ffffff"><span id=""><?=$r['yihua']?></span></td>
																	<td style="background: #ffffff"><span id=""><?=$r['total']?></span></td>
																	<td style="background: #ffffff"><span id=""><?=$r['pic']?></span></td>
																</tr>
														<?php 
															}
														?>
													</tbody>
													<tfoot>
														<tr>
															<th colspan="8" style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;height:1px;"></th>
														</tr>
													</tfoot>
												</table>
												</div>
											</div>
										</div>
									</article>									
								</div>
								<div class="row">
									<article class="col-sm-12 col-md-12 col-lg-12" style="margin: 0px 0px -30px 0px;">
										<div class="jarviswidget jarviswidget-color-blueLight" id="wid-id-10" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-deletebutton="false" data-widget-fullscreenbutton="false" data-widget-custombutton="false" data-widget-sortable="false">
											<header style="background-image: linear-gradient( 171.8deg,  rgba(5,111,146,1) 13.5%, rgba(6,57,84,1) 78.6% );color:white;">
												<span class="widget-icon"> <img style="float: left; margin: 7px 5px 0px 8px;" src="<?=base_url()?>assets/img/cal.png" height="18" width="18" /> </span>
												<h2 style="color:white;font-size:14px; font-weight: bold;">Maintenance Sumarry & Information
												</h2>
											</header>
											<div>
												<div class="widget-body no-padding">
												<table class="table table-bordered table-condensed">
													<thead>
														<tr>
															<th style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;">ID TICKET</th>
															<th style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;">TANGGAL</th>
															<th style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;">ID ATM</th>
															<th style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;">ACT / PROBLEM TYPE</th>
															<th style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;">STATUS</th>
															<th style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;">CSE</th>
														</tr>
													</thead>
													<tbody>
														<?php 
															foreach($data_ticket as $r) { ?>
																<tr>
																	<th style="background-image: linear-gradient(120deg, #fdfbfb 0%, #ebedee 100%);font-size:12px"><?=$r['idticket']?></th>
																	<td style="background: #ffffff"><span id=""><?=$r['date']?></span></td>
																	<td style="background: #ffffff"><span id=""><?=$r['idatm']?></span></td>
																	<td style="background: #ffffff"><span id=""><?=$r['problem']?></span></td>
																	<td style="background: #ffffff"><span id=""><?=$r['status']?></span></td>
																	<td style="background: #ffffff"><span id=""><?=$r['cse']?></span></td>
																</tr>
														<?php 
															}
														?>
													</tbody>
													<tfoot>
														<tr>
															<th colspan="7" style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;height:1px;"></th>
														</tr>
													</tfoot>
												</table>
												</div>
											</div>
										</div>
									</article>									
								</div>	
							</div>
						</div>
						<div class="col-sm-12 col-md-12 col-lg-4" style="margin: -20px 0px 0px 0px;">
							<div class="well well-light well-sm no-margin no-padding">
							
								<div class="row">
									<div class="col-sm-12" style="margin: 0px 0px -30px 0px;">
									<div class="jarviswidget jarviswidget-color-blueLight" id="wid-id-10" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-deletebutton="false" data-widget-fullscreenbutton="false" data-widget-custombutton="false" data-widget-sortable="false">
										<header style="background-image: linear-gradient( 171.8deg,  rgba(5,111,146,1) 13.5%, rgba(6,57,84,1) 78.6% );color:white;">
											<span class="widget-icon"> <img style="float: left; margin: 7px 5px 0px 8px;" src="<?=base_url()?>assets/img/calendar2.png" height="18" width="18" /> </span>
											<h2 style="color:white;font-size:14px; font-weight: bold;">List Client Managed
											</h2>
										</header>
										<div>
											<div class="widget-body no-padding">
												<table class="table table-bordered table-condensed">
													<thead>
														<tr>
															<th style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;">CLIENT/BANK</th>
															<th style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;">TOTAL</th>
														</tr>
													</thead>
													<tbody>
														<?php 
															$total = 0;
															foreach($data_total_atm as $r) { 
																$total = $total+$r['total_atm'];
															?>
																<tr>
																	<th style="background-image: linear-gradient(120deg, #fdfbfb 0%, #ebedee 100%);font-size:12px"><?=$r['nama_bank']?></th>
																	<td style="background: #ffffff"><span id=""><?=$r['total_atm']?></span></td>
																</tr>
														<?php
															}
														?>
														<tr>
														<th style="background-image: linear-gradient(120deg, #fdfbfb 0%, #ebedee 100%);color:gray;">
														</th>
														<th style="color:gray;"><?=$total?></th>
														</tr>
													</tbody>
													<tfoot>
														<tr>
															<th colspan="2" style="background: linear-gradient(to bottom, #00c6ff, #0072ff);color:white;height:1px;"></th>
														</tr>
													</tfoot>
												</table>
											</div>
										</div>
									</div>
									</div>									
									
							
								</div>
								<div class="row">
									<div class="col-sm-12">
										<div class="jarviswidget jarviswidget-color-blueLight" id="wid-id-10" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-togglebutton="false" data-widget-deletebutton="false" data-widget-fullscreenbutton="false" data-widget-custombutton="false" data-widget-sortable="false">
											<header style="background-image: linear-gradient( 171.8deg,  rgba(5,111,146,1) 13.5%, rgba(6,57,84,1) 78.6% );color:white;">
												<span class="widget-icon"> <img style="float: left; margin: 7px 5px 0px 8px;" src="<?=base_url()?>assets/img/calendar2.png" height="18" width="18" /> </span>
												<h2 style="color:white;font-size:14px; font-weight: bold;">Grafik Maintenance Tickets
												</h2>
											</header>
											<div>
												<div class="widget-body no-padding">
												<table class="table table-bordered table-condensed">
													<tbody>
														<tr>
															<td style="background: #ffffff">
															<script src="<?=BASE_URL?>v153/d3.min.js"></script>
																<style>
																	.chart-container{
																		padding:5px;
																	}

																	.shadow {
																		-webkit-filter: drop-shadow( 0px 1px 1px rgba(0,0,0,.3) );
																		filter: drop-shadow( 0px 1px 1px rgba(0,0,0,.3) );
																	}
																</style>
																<center>
																<div id="chart" class="chart-container"></div>
																</center>
															</td>
														</tr>
													</tbody>
												</table>
											
												
												</div>
											</div>
										</div>
									
									</div>
								</div>
								<div class="row">
									<div class="col-sm-12">
										<hr>
										<div class="" style="margin: -105px 0px 0px 0px;">
											<ul class="nav nav-tabs tabs-pull-right">
												<li class="pull-left active">
													<a href="#a1" data-toggle="tab">Detail Data</a>
												</li>
											</ul>
											<div class="tab-content padding-top-10">
												<div class="tab-pane fade in active" id="a1">

													<div class="row">
														
													<style>
													#chartdiv2 {
													  width: 90%;
													  height: 250px;
													}
													</style>
													<script src="https://cdn.amcharts.com/lib/4/core.js"></script>
													<script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
													<script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>

													<script>
													am4core.ready(function() {

														// Themes begin
														am4core.useTheme(am4themes_animated);
														// Themes end

														// Create chart instance
														var chart = am4core.create("chartdiv2", am4charts.XYChart3D);
														
														console.log(chart.data);
														$.get("<?=base_url()?>dashboard/get_week_data", function(data) {
															chart.data = JSON.parse(data);
															
															// Create axes
															let categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());
															categoryAxis.dataFields.category = "country";
															categoryAxis.renderer.labels.template.rotation = 270;
															categoryAxis.renderer.labels.template.hideOversized = false;
															categoryAxis.renderer.minGridDistance = 10;
															categoryAxis.renderer.labels.template.horizontalCenter = "right";
															categoryAxis.renderer.labels.template.verticalCenter = "middle";
															categoryAxis.tooltip.label.rotation = 270;
															categoryAxis.tooltip.label.horizontalCenter = "right";
															categoryAxis.tooltip.label.verticalCenter = "middle";

															let valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
															valueAxis.title.text = "Total Maintenance";
															valueAxis.title.fontWeight = "bold";

															// Create series
															var series = chart.series.push(new am4charts.ColumnSeries3D());
															series.dataFields.valueY = "visits";
															series.dataFields.categoryX = "country";
															series.name = "Visits";
															series.tooltipText = "{categoryX}: [bold]{valueY}[/]";
															series.columns.template.fillOpacity = .8;

															var columnTemplate = series.columns.template;
															columnTemplate.strokeWidth = 2;
															columnTemplate.strokeOpacity = 1;
															columnTemplate.stroke = am4core.color("#FFFFFF");

															columnTemplate.adapter.add("fill", function(fill, target) {
															  return chart.colors.getIndex(target.dataItem.index);
															})

															columnTemplate.adapter.add("stroke", function(stroke, target) {
															  return chart.colors.getIndex(target.dataItem.index);
															})

															chart.cursor = new am4charts.XYCursor();
															chart.cursor.lineX.strokeOpacity = 0;
															chart.cursor.lineY.strokeOpacity = 0;
														});
													

													

													}); // end am4core.ready()
													</script>

													<div id="chartdiv2" style="margin: 0px 0px 0px 20px;"></div>	
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-sm-12">
										<hr>
										<div class="" style="margin: -65px 0px 0px 0px;">
											<ul class="nav nav-tabs tabs-pull-right">
												<li class="pull-left active">
													<a href="#a1" data-toggle="tab">Detail Data</a>
												</li>
											</ul>
										</div>
									</div>
								</div>
								
							</div>
						</div>
					</div>
				</div>
				</div>
			</div>
		</div>
			
		</div>
		</div>
		</article>	
	
		</div>
				

	</section>
<?php $__env->stopSection(); ?>


<?php $__env->startSection('javascript'); ?>
	<script src="<?=BASE_URL?>js/plugin/morris/raphael.min.js"></script>
	<script src="<?=BASE_URL?>js/plugin/morris/morris.min.js"></script>

	<script>

	$(document).ready(function()
	{
		var monthNames = ["Januari", "Februari", "Maret", "April", "Mei", "Juni", "Juli", "Agustus", "September", "Oktober", "November", "Desember"];
		var dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]

		// Create a newDate() object
		var newDate = new Date();
		// Extract the current date from Date object
		newDate.setDate(newDate.getDate());
		// Output the day, date, month and year    
		$('#Date').html(newDate.getDate() + ' ' + monthNames[newDate.getMonth()] + ' ' + newDate.getFullYear());

		setInterval(function() {
			// Create a newDate() object and extract the seconds of the current time on the visitor's
			var seconds = new Date().getSeconds();
			// Add a leading zero to seconds value
			$("#sec").html((seconds < 10 ? "0" : "") + seconds);
		}, 1000);

		setInterval(function() {
			// Create a newDate() object and extract the minutes of the current time on the visitor's
			var minutes = new Date().getMinutes();
			// Add a leading zero to the minutes value
			$("#min").html((minutes < 10 ? "0" : "") + minutes);
		}, 1000);

		setInterval(function() {
			// Create a newDate() object and extract the hours of the current time on the visitor's
			var hours = new Date().getHours();
			// Add a leading zero to the hours value
			$("#hours").html((hours < 10 ? "0" : "") + hours);
		}, 1000);
			
		
		
		
		
		// We'll catch form submission to do it in AJAX, but this works also with JS disabled
		$('#login-form').submit(function(event)
		{
			// Stop full page load
			event.preventDefault();
			
			// Check fields
			var login = $('#login').val();
			var pass = $('#pass').val();
			
			if (!login || login.length == 0)
			{
				$('#login-block').removeBlockMessages().blockMessage('Please enter your user name', {type: 'warning'});
			}
			else if (!pass || pass.length == 0)
			{
				$('#login-block').removeBlockMessages().blockMessage('Please enter your password', {type: 'warning'});
			}
			else
			{
				var submitBt = $(this).find('button[type=submit]');
				submitBt.disableBt();
				
				// Target url
				var target = $(this).attr('action');

				if (!target || target == '')
				{
					// Page url without hash
					target = document.location.href.match(/^([^#]+)/)[1];
				}
				
				// Request
				var data = {
					a: $('#a').val(),
					username: login,
					password: pass,
					'keep-logged': $('#keep-logged').attr('checked') ? 1 : 0
				};
				var redirect = $('#redirect');
				if (redirect.length > 0)
				{
					data.redirect = redirect.val();
				}
				
				// console.log(data);
				// Start timer
				var sendTimer = new Date().getTime();
				// Send
				$.ajax({
					url: target,
					dataType: 'json',
					type: 'POST',
					data: data,
					success: function(data, textStatus, XMLHttpRequest)
					{
						console.log(data);
						if (data.valid)
						{
							// Small timer to allow the 'cheking login' message to show when server is too fast
							var receiveTimer = new Date().getTime();
							if (receiveTimer-sendTimer < 500)
							{
								setTimeout(function()
								{
									document.location.href = data.redirect;
									
								}, 500-(receiveTimer-sendTimer));
							}
							else
							{
								document.location.href = data.redirect;
							}
						}
						else
						{
							// Message
							$('#login-block').removeBlockMessages().blockMessage(data.error || 'An unexpected error occured, please try again', {type: 'error'});
							
							submitBt.enableBt();
						}
					},
					error: function(XMLHttpRequest, textStatus, errorThrown)
					{
						// Message
						$('#login-block').removeBlockMessages().blockMessage('Error while contacting server, please try again', {type: 'error'});
						
						submitBt.enableBt();
					}
				});
				
				// Message
				$('#login-block').removeBlockMessages().blockMessage('Please wait, cheking login...', {type: 'loading'});
			}
		});
	});

	</script>
	<script>
	var dataset = [
        { name: 'OPEN', percent: parseInt("<?=$data_summary['persen_open']?>") },
        { name: 'CLOSE', percent: parseInt("<?=$data_summary['persen_done']?>") },
        { name: 'PENDING', percent: parseInt("<?=$data_summary['persen_pending']?>") }
    ];

    var pie=d3.layout.pie()
            .value(function(d){return d.percent})
            .sort(null)
            .padAngle(.03);

    var w=300,h=300;

    var outerRadius=w/2;
    var innerRadius=100;

    var color = d3.scale.category10();

    var arc=d3.svg.arc()
            .outerRadius(outerRadius)
            .innerRadius(innerRadius);

    var svg=d3.select("#chart")
            .append("svg")
            .attr({
                width:w,
                height:h,
                class:'shadow'
            }).append('g')
            .attr({
                transform:'translate('+w/2+','+h/2+')'
            });
    var path=svg.selectAll('path')
            .data(pie(dataset))
            .enter()
            .append('path')
            .attr({
                d:arc,
                fill:function(d,i){
                    return color(d.data.name);
                }
            });

    path.transition()
            .duration(1000)
            .attrTween('d', function(d) {
                var interpolate = d3.interpolate({startAngle: 0, endAngle: 0}, d);
                return function(t) {
                    return arc(interpolate(t));
                };
            });


    var restOfTheData=function(){
        var text=svg.selectAll('text')
                .data(pie(dataset))
                .enter()
                .append("text")
                .transition()
                .duration(200)
                .attr("transform", function (d) {
                    return "translate(" + arc.centroid(d) + ")";
                })
                .attr("dy", ".4em")
                .attr("text-anchor", "middle")
                .text(function(d){
                    return d.data.percent+"%";
                })
                .style({
                    fill:'#fff',
                    'font-size':'18px'
                });

        var legendRectSize=20;
        var legendSpacing=7;
        var legendHeight=legendRectSize+legendSpacing;


        var legend=svg.selectAll('.legend')
                .data(color.domain())
                .enter()
                .append('g')
                .attr({
                    class:'legend',
                    transform:function(d,i){
                        //Just a calculation for x & y position
                        return 'translate(-35,' + ((i*legendHeight)-65) + ')';
                    }
                });
        legend.append('rect')
                .attr({
                    width:legendRectSize,
                    height:legendRectSize,
                    rx:20,
                    ry:20
                })
                .style({
                    fill:color,
                    stroke:color
                });

        legend.append('text')
                .attr({
                    x:30,
                    y:15
                })
                .text(function(d){
                    return d;
                }).style({
                    fill:'#929DAF',
                    'font-size':'18px'
                });
    };

    setTimeout(restOfTheData,1000);
	</script>

	<script type="text/javascript">
		/* DO NOT REMOVE : GLOBAL FUNCTIONS!
		 *
		 * pageSetUp(); WILL CALL THE FOLLOWING FUNCTIONS
		 *
		 * // activate tooltips
		 * $("[rel=tooltip]").tooltip();
		 *
		 * // activate popovers
		 * $("[rel=popover]").popover();
		 *
		 * // activate popovers with hover states
		 * $("[rel=popover-hover]").popover({ trigger: "hover" });
		 *
		 * // activate inline charts
		 * runAllCharts();
		 *
		 * // setup widgets
		 * setup_widgets_desktop();
		 *
		 * // run form elements
		 * runAllForms();
		 *
		 ********************************
		 *
		 * pageSetUp() is needed whenever you load a page.
		 * It initializes and checks for all basic elements of the page
		 * and makes rendering easier.
		 *
		 */

		 var flot_updating_chart, flot_statsChart, flot_multigraph, calendar;

		pageSetUp();
		
		/*
		 * PAGE RELATED SCRIPTS
		 */

		// pagefunction
		
		var pagefunction = function() {
			
			/*
			 * RUN PAGE GRAPHS
			 */
			 
			if ($('#donut-graph').length) {
				var chart, data;
				$.get('<?=base_url()?>dashboard/get_donut_data', function(data) {
					data = JSON.parse(data);
					
					chart = Morris.Donut({
						element : 'donut-graph',
						data : data,
						formatter : function(x) {
							return x + "Unit"
						}
					});
				
					chart.segments.forEach(function(segment){
						console.log(segment.color,segment.data);
						var legendText = segment.data.label+" ("+segment.data.value+")";
						var legendColor = segment.color;
						var legendItem = $('<li style=""></li>').text(legendText).css('color', 'black');
						var legendColorDot = $('<span></span>').html("&#9632; ").addClass('colorDot').css('color', legendColor);
						$(legendItem).prepend(legendColorDot)
						$('#legend').append(legendItem);
					});
				});
			}

			// load all flot plugins
			loadScript("<?=BASE_URL?>js/plugin/flot/jquery.flot.cust.min.js", function(){
				loadScript("<?=BASE_URL?>js/plugin/flot/jquery.flot.resize.min.js", function(){
					loadScript("<?=BASE_URL?>js/plugin/flot/jquery.flot.fillbetween.min.js", function(){
						loadScript("<?=BASE_URL?>js/plugin/flot/jquery.flot.orderBar.min.js", function(){
							loadScript("<?=BASE_URL?>js/plugin/flot/jquery.flot.pie.min.js", function(){
								loadScript("<?=BASE_URL?>js/plugin/flot/jquery.flot.time.min.js", function(){
									loadScript("<?=BASE_URL?>js/plugin/flot/jquery.flot.tooltip.min.js", generatePageGraphs);
								});
							});
						});
					});
				});
			});

			
			function generatePageGraphs() {
				// TAB THREE GRAPH //
				/* TAB 3: Revenew  */
				
				
			
				$(function () {
					
					/* chart colors default */
					var $chrt_border_color = "#efefef";
					var $chrt_grid_color = "#DDD"
					var $chrt_main = "#E24913";
					/* red       */
					var $chrt_second = "#6595b4";
					/* blue      */
					var $chrt_third = "#FF9F01";
					/* orange    */
					var $chrt_fourth = "#7e9d3a";
					/* green     */
					var $chrt_fifth = "#BD362F";
					/* dark red  */
					var $chrt_mono = "#000";
					
					var trgt,
						prft,
						sgnups,
						toggles = $("#rev-toggles"),
						target = $("#flotcontainer");
						
					$.get('<?=base_url()?>dashboard/get_graph', function(data) {
						var data = JSON.parse(data)
						trgt = data.total;
						prft = data.open;
						sgnups = data.pending;
						sgnups2 = data.done;
						
						var data = [{
							label: "OPEN TICKET",
							data: prft,
							bars : {
								show : true,
								barWidth : 30 * 60 * 1000 * 30 * 10,
								order : 2
							}
						}, {
							label: "PENDING TICKET",
							data: sgnups,
							bars : {
								show : true,
								barWidth : 30 * 60 * 1000 * 30 * 10,
								order : 3
							}
						}, {
							label: "CLOSED TICKET",
							data: sgnups2,
							bars : {
								show : true,
								barWidth : 30 * 60 * 1000 * 30 * 10,
								order : 4
							}
						}];
				
						var options = {
							colors : [$chrt_second, $chrt_fourth, "#666", "#BBB", "#BBB"],
							grid : {
								show : true,
								hoverable : true,
								clickable : true,
								tickColor : $chrt_border_color,
								borderWidth : 0,
								borderColor : $chrt_border_color,
							},
							xaxis : {
								mode : "time",
								dateFormat: '%b %y',
							},
							yaxis : {
								max: 10,
								min: 0
							},
							legend : true,
							tooltip : true,
							tooltipOpts : {
								content : "<b>%s</b> on <b>%x</b> was <b>%y</b>",
								dateFormat: '%b %y',
								defaultTheme : false
							}

						};
						
						// // var data1 = [];
					// // for (var i = 0; i <= 12; i += 1)
						// // data1.push([i, parseInt(Math.random() * 30)]);

					// // var data2 = [];
					// // for (var i = 0; i <= 12; i += 1)
						// // data2.push([i, parseInt(Math.random() * 30)]);

					// // var data3 = [];
					// // for (var i = 0; i <= 12; i += 1)
						// // data3.push([i, parseInt(Math.random() * 30)]);

					// // var ds = new Array();

					// // ds.push({
						// // data : data1,
						// // bars : {
							// // show : true,
							// // barWidth : 0.2,
							// // order : 1,
						// // }
					// // });
					// // ds.push({
						// // data : data2,
						// // bars : {
							// // show : true,
							// // barWidth : 0.2,
							// // order : 2
						// // }
					// // });
					// // ds.push({
						// // data : data3,
						// // bars : {
							// // show : true,
							// // barWidth : 0.2,
							// // order : 3
						// // }
					// // });

					// //Display graph
					// $.plot(target, ds, {
						// colors : [$chrt_second, $chrt_fourth, "#666", "#BBB"],
						// grid : {
							// show : true,
							// hoverable : true,
							// clickable : true,
							// tickColor : $chrt_border_color,
							// borderWidth : 0,
							// borderColor : $chrt_border_color,
						// },
						// legend : true,
						// tooltip : true,
						// tooltipOpts : {
							// content : "<b>%x</b> = <span>%y</span>",
							// defaultTheme : false
						// }
					// });
						
				
						flot_multigraph = null;
				
						function plotNow() {
							var d = [];
							toggles.find(':checkbox').each(function () {
								if ($(this).is(':checked')) {
									d.push(data[$(this).attr("name").substr(4, 1)]);
								}
							});
							if (d.length > 0) {
								if (flot_multigraph) {
									flot_multigraph.setData(d);
									flot_multigraph.draw();
								} else {
									flot_multigraph = $.plot(target, d, options);
								}
							}
				
						};
				
						toggles.find(':checkbox').on('change', function () {
							plotNow();
						});

						plotNow()
					});
				});
			
			}
		
		};
		
		// end pagefunction

		// destroy generated instances 
		// pagedestroy is called automatically before loading a new page
		// only usable in AJAX version!

		var pagedestroy = function(){
			
			// destroy calendar
			calendar.fullCalendar('destroy');
			calendar = null;

			//destroy flots
			flot_updating_chart.shutdown();  
			flot_updating_chart=null;
			flot_statsChart.shutdown(); 
			flot_statsChart = null;

			flot_multigraph.shutdown(); 
			flot_multigraph = null;

			// destroy vector map objects
			$('#vector-map').find('*').addBack().off().remove();

			// destroy todo
			$("#sortable1, #sortable2").sortable("destroy");
			$('.todo .checkbox > input[type="checkbox"]').off();

			// destroy misc events
			$("#rev-toggles").find(':checkbox').off();
			$('#chat-container').find('*').addBack().off().remove();

			// debug msg
			if (debugState){
				root.console.log(" Calendar, Flot Charts, Vector map, misc events destroyed");
			} 

		}

		// end destroy
		
		// run pagefunction on load
		pagefunction();
		
		
	</script>

<?php $__env->stopSection(); ?>
<?php echo $__env->make('layouts.master', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?><?php /**PATH D:\xampp\htdocs\git\tiket\coresys\views/pages/dashboard.blade.php ENDPATH**/ ?>